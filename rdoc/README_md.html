<!DOCTYPE html>

<html>
<head>
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">

<title>README - ESPSDK</title>

<link type="text/css" media="screen" href="./rdoc.css" rel="stylesheet">

<script type="text/javascript">
  var rdoc_rel_prefix = "./";
</script>

<script type="text/javascript" charset="utf-8" src="./js/jquery.js"></script>
<script type="text/javascript" charset="utf-8" src="./js/navigation.js"></script>
<script type="text/javascript" charset="utf-8" src="./js/search_index.js"></script>
<script type="text/javascript" charset="utf-8" src="./js/search.js"></script>
<script type="text/javascript" charset="utf-8" src="./js/searcher.js"></script>
<script type="text/javascript" charset="utf-8" src="./js/darkfish.js"></script>


<body class="file">
<nav id="metadata">
  <nav id="home-section" class="section">
  <h3 class="section-header">
    <a href="./index.html">Home</a>
    <a href="./table_of_contents.html#classes">Classes</a>
    <a href="./table_of_contents.html#methods">Methods</a>
  </h3>
</nav>


  <nav id="search-section" class="section project-section" class="initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <h3 class="section-header">
      <input type="text" name="search" placeholder="Search" id="search-field"
             title="Type to search, Up and Down to navigate, Enter to load">
    </h3>
  </form>

  <ul id="search-results" class="initially-hidden"></ul>
</nav>


  
<div id="table-of-contents">
  <nav class="section">
    <h3 class="section-header">Table of Contents</h3>
    <ul>
      <li><a href="#label-Evident+Security+Platform+SDK">Evident Security Platform SDK</a>
      <li><a href="#label-Installation">Installation</a>
      <li><a href="#label-Configuration">Configuration</a>
      <li><a href="#label-Set+your+HMAC+security+keys%3A">Set your HMAC security keys:</a>
      <li><a href="#label-Appliance+Users">Appliance Users</a>
      <li><a href="#label-Usage">Usage</a>
      <li><a href="#label-Everything+is+an+Object">Everything is an Object</a>
      <li><a href="#label-Errors">Errors</a>
      <li><a href="#label-Pagination">Pagination</a>
      <li><a href="#label-Associated+Objects">Associated Objects</a>
      <li><a href="#label-Filtering%2FSearching">Filtering/Searching</a>
      <li><a href="#label-Searching">Searching</a>
      <li><a href="#label-OR+Conditions">OR Conditions</a>
      <li><a href="#label-Conditions+on+Relationships">Conditions on Relationships</a>
      <li><a href="#label-Complex+Filtering">Complex Filtering</a>
      <li><a href="#label-Bad+Attributes">Bad Attributes</a>
      <li><a href="#label-Available+Predicates">Available Predicates</a>
      <li><a href="#label-eq+%28equals%29">eq (equals)</a>
      <li><a href="#label-lt+%28less+than%29">lt (less than)</a>
      <li><a href="#label-lteq+%28less+than+or+equal+to%29">lteq (less than or equal to)</a>
      <li><a href="#label-in">in</a>
      <li><a href="#label-cont+%28contains%29">cont (contains)</a>
      <li><a href="#label-cont_any+%28contains+any%29">cont_any (contains any)</a>
      <li><a href="#label-start+%28starts+with%29">start (starts with)</a>
      <li><a href="#label-end+%28ends+with%29">end (ends with)</a>
      <li><a href="#label-present">present</a>
      <li><a href="#label-null">null</a>
      <li><a href="#label-Sorting">Sorting</a>
      <li><a href="#label-Available+Objects">Available Objects</a>
      <li><a href="#label-Console">Console</a>
      <li><a href="#label-Contributing">Contributing</a>
    </ul>
  </nav>
</div>


  <div id="project-metadata">
    <nav id="fileindex-section" class="section project-section">
  <h3 class="section-header">Pages</h3>

  <ul>
  
    <li class="file"><a href="./README_md.html">README</a>
  
  </ul>
</nav>

    <nav id="classindex-section" class="section project-section">
  <h3 class="section-header">Class and Module Index</h3>

  <ul class="link-list">
  
    <li><a href="./ActiveResource.html">ActiveResource</a>
  
    <li><a href="./ActiveResource/Formats.html">ActiveResource::Formats</a>
  
    <li><a href="./ActiveResource/PaginatedCollection.html">ActiveResource::PaginatedCollection</a>
  
    <li><a href="./ESP.html">ESP</a>
  
    <li><a href="./ESP/Alert.html">ESP::Alert</a>
  
    <li><a href="./ESP/CloudTrailEvent.html">ESP::CloudTrailEvent</a>
  
    <li><a href="./ESP/ContactRequest.html">ESP::ContactRequest</a>
  
    <li><a href="./ESP/CustomSignature.html">ESP::CustomSignature</a>
  
    <li><a href="./ESP/Dashboard.html">ESP::Dashboard</a>
  
    <li><a href="./ESP/ExternalAccount.html">ESP::ExternalAccount</a>
  
    <li><a href="./ESP/Metadata.html">ESP::Metadata</a>
  
    <li><a href="./ESP/Organization.html">ESP::Organization</a>
  
    <li><a href="./ESP/Region.html">ESP::Region</a>
  
    <li><a href="./ESP/Report.html">ESP::Report</a>
  
    <li><a href="./ESP/Service.html">ESP::Service</a>
  
    <li><a href="./ESP/Signature.html">ESP::Signature</a>
  
    <li><a href="./ESP/Stat.html">ESP::Stat</a>
  
    <li><a href="./ESP/StatCustomSignature.html">ESP::StatCustomSignature</a>
  
    <li><a href="./ESP/StatRegion.html">ESP::StatRegion</a>
  
    <li><a href="./ESP/StatService.html">ESP::StatService</a>
  
    <li><a href="./ESP/StatSignature.html">ESP::StatSignature</a>
  
    <li><a href="./ESP/SubOrganization.html">ESP::SubOrganization</a>
  
    <li><a href="./ESP/Suppression.html">ESP::Suppression</a>
  
    <li><a href="./ESP/Suppression/Region.html">ESP::Suppression::Region</a>
  
    <li><a href="./ESP/Suppression/Signature.html">ESP::Suppression::Signature</a>
  
    <li><a href="./ESP/Suppression/UniqueIdentifier.html">ESP::Suppression::UniqueIdentifier</a>
  
    <li><a href="./ESP/Tag.html">ESP::Tag</a>
  
    <li><a href="./ESP/Team.html">ESP::Team</a>
  
    <li><a href="./ESP/User.html">ESP::User</a>
  
  </ul>
</nav>

  </div>
</nav>

<div id="documentation" class="description">
  
<p><a
href="https://travis-ci.org/EvidentSecurity/esp_sdk.svg?branch=master">{Build
Status</a>]
<a
href="https://codeclimate.com/repos/546a526f6956800d2900e3fb/badges/841000b5295e533401c3/gpa.svg">{Code
Climate</a>]
<a
href="https://coveralls.io/repos/EvidentSecurity/esp_sdk/badge.svg">{Coverage
Status</a>]
<a href="https://badge.fury.io/rb/esp_sdk.svg">{Gem
Version</a>]</p>

<h1 id="label-Evident+Security+Platform+SDK">Evident Security Platform SDK<span><a href="#label-Evident+Security+Platform+SDK">&para;</a> <a href="#documentation">&uarr;</a></span></h1>

<p>A Ruby interface for calling the <a
href="https://www.evident.io">Evident.io</a> API.</p>

<p>This Readme is for the V2 version of the <a href="ESP.html">ESP</a> SDK.
For V1 information, see the <a
href="https://github.com/EvidentSecurity/esp_sdk/wiki">V1 WIKI</a>.</p>

<h2 id="label-Installation">Installation<span><a href="#label-Installation">&para;</a> <a href="#documentation">&uarr;</a></span></h2>

<p>Add this line to your application&#39;s Gemfile:</p>

<pre>gem &#39;esp_sdk&#39;</pre>

<p>And then execute:</p>

<pre> bundle</pre>

<p>Or install it yourself as:</p>

<pre> gem install esp_sdk</pre>

<h1 id="label-Configuration">Configuration<span><a href="#label-Configuration">&para;</a> <a href="#documentation">&uarr;</a></span></h1>

<h2 id="label-Set+your+HMAC+security+keys%3A">Set your HMAC security keys:<span><a href="#label-Set+your+HMAC+security+keys%3A">&para;</a> <a href="#documentation">&uarr;</a></span></h2>

<p>You must set your access_key_id and your secret_access_key.<br>
You can set
these directly:</p>

<pre class="ruby"><span class="ruby-constant">ESP</span>.<span class="ruby-identifier">access_key_id</span> = <span class="ruby-operator">&lt;</span><span class="ruby-identifier">your</span> <span class="ruby-identifier">key</span><span class="ruby-operator">&gt;</span>
<span class="ruby-constant">ESP</span>.<span class="ruby-identifier">secret_access_key</span> = <span class="ruby-operator">&lt;</span><span class="ruby-identifier">your</span> <span class="ruby-identifier">secret</span> <span class="ruby-identifier">key</span><span class="ruby-operator">&gt;</span>
</pre>

<p>or with environment variables:</p>

<pre class="ruby"><span class="ruby-constant">ENV</span>[<span class="ruby-string">&#39;ESP_ACCESS_KEY_ID&#39;</span>] = <span class="ruby-operator">&lt;</span><span class="ruby-identifier">you</span> <span class="ruby-identifier">key</span><span class="ruby-operator">&gt;</span>
<span class="ruby-constant">ENV</span>[<span class="ruby-string">&#39;ESP_SECRET_ACCESS_KEY&#39;</span>] = <span class="ruby-operator">&lt;</span><span class="ruby-identifier">your</span> <span class="ruby-identifier">secret</span> <span class="ruby-identifier">key</span><span class="ruby-operator">&gt;</span>
</pre>

<p>or, if in a Rails application, you can use the configure block in an
initializer:</p>

<pre class="ruby"><span class="ruby-constant">ESP</span>.<span class="ruby-identifier">configure</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">config</span><span class="ruby-operator">|</span>
  <span class="ruby-identifier">config</span>.<span class="ruby-identifier">access_key_id</span> = <span class="ruby-operator">&lt;</span><span class="ruby-identifier">your</span> <span class="ruby-identifier">key</span><span class="ruby-operator">&gt;</span>
  <span class="ruby-identifier">config</span>.<span class="ruby-identifier">secret_access_key</span> = <span class="ruby-operator">&lt;</span><span class="ruby-identifier">your</span> <span class="ruby-identifier">secret</span> <span class="ruby-identifier">key</span><span class="ruby-operator">&gt;</span>
<span class="ruby-keyword">end</span>
</pre>

<p>Get your HMAC keys from the Evident.io website, <a
href="https://esp.evident.io/settings/api_keys">esp.evident.io</a></p>

<h2 id="label-Appliance+Users">Appliance Users<span><a href="#label-Appliance+Users">&para;</a> <a href="#documentation">&uarr;</a></span></h2>

<p>Users of Evident.io&#39;s AWS marketplace appliance will need to set the
host for their appliance instance.
You can set this directly:</p>

<pre class="ruby"><span class="ruby-constant">ESP</span>.<span class="ruby-identifier">host</span> = <span class="ruby-operator">&lt;</span><span class="ruby-identifier">host</span> <span class="ruby-keyword">for</span> <span class="ruby-identifier">appliance</span> <span class="ruby-identifier">instance</span><span class="ruby-operator">&gt;</span>
</pre>

<p>or, if in a Rails application, you can use the configure block in an
initializer:</p>

<pre class="ruby"><span class="ruby-constant">ESP</span>.<span class="ruby-identifier">configure</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">config</span><span class="ruby-operator">|</span>
  <span class="ruby-identifier">config</span>.<span class="ruby-identifier">host</span> = <span class="ruby-operator">&lt;</span><span class="ruby-identifier">host</span> <span class="ruby-keyword">for</span> <span class="ruby-identifier">appliance</span> <span class="ruby-identifier">instance</span><span class="ruby-operator">&gt;</span>
<span class="ruby-keyword">end</span>
</pre>

<p>Alternatively, the site can also be set with an environment variable.</p>

<pre>export ESP_HOST=&lt;host for appliance instance&gt;</pre>

<h1 id="label-Usage">Usage<span><a href="#label-Usage">&para;</a> <a href="#documentation">&uarr;</a></span></h1>

<h2 id="label-Everything+is+an+Object">Everything is an Object<span><a href="#label-Everything+is+an+Object">&para;</a> <a href="#documentation">&uarr;</a></span></h2>

<p>The Evident.io SDK uses Active Resource, so the DSL acts very much like
Active Record providing by default, the standard CRUD
actions
<code>find</code>, <code>all</code>, <code>create</code>,
<code>update</code>, <code>destroy</code>, only instead of a database as
the data store, it makes calls to the Evident.io API. Not all
methods are
available for all <a href="ESP.html">ESP</a> objects. See the <a
href="http://www.rubydoc.info/gems/esp_sdk">documentation</a> to see all
the methods
available for each object.
So, for instance, to get a report by
ID:</p>

<pre class="ruby"><span class="ruby-identifier">espsdk</span>:<span class="ruby-value">003</span><span class="ruby-operator">:</span><span class="ruby-value">0</span><span class="ruby-operator">&gt;</span> <span class="ruby-identifier">report</span> = <span class="ruby-constant">ESP</span><span class="ruby-operator">::</span><span class="ruby-constant">Report</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">234</span>)
</pre>

<p>And to get the alerts for that report:</p>

<pre class="ruby"><span class="ruby-identifier">espsdk</span>:<span class="ruby-value">003</span><span class="ruby-operator">:</span><span class="ruby-value">0</span><span class="ruby-operator">&gt;</span> <span class="ruby-identifier">alerts</span> = <span class="ruby-identifier">report</span>.<span class="ruby-identifier">alerts</span>
</pre>

<p>For objects that are creatable, updatable, and destroyable, you make the
exact same calls you would expect to use with Active Record.</p>

<pre class="ruby"><span class="ruby-identifier">espsdk</span>:<span class="ruby-value">003</span><span class="ruby-operator">:</span><span class="ruby-value">0</span><span class="ruby-operator">&gt;</span> <span class="ruby-identifier">team</span> = <span class="ruby-constant">ESP</span><span class="ruby-operator">::</span><span class="ruby-constant">Team</span>.<span class="ruby-identifier">create</span>(<span class="ruby-identifier">name</span><span class="ruby-operator">:</span> <span class="ruby-string">&#39;MyTeam&#39;</span>, <span class="ruby-identifier">organization_id</span><span class="ruby-operator">:</span> <span class="ruby-value">452</span>, <span class="ruby-identifier">sub_organization_id</span><span class="ruby-operator">:</span> <span class="ruby-value">599</span>)
    
<span class="ruby-identifier">espsdk</span>:<span class="ruby-value">003</span><span class="ruby-operator">:</span><span class="ruby-value">0</span><span class="ruby-operator">&gt;</span> <span class="ruby-identifier">team</span>.<span class="ruby-identifier">name</span> = <span class="ruby-string">&#39;NewName&#39;</span>
<span class="ruby-identifier">espsdk</span>:<span class="ruby-value">003</span><span class="ruby-operator">:</span><span class="ruby-value">0</span><span class="ruby-operator">&gt;</span> <span class="ruby-identifier">team</span>.<span class="ruby-identifier">save</span>
    
<span class="ruby-identifier">espsdk</span>:<span class="ruby-value">003</span><span class="ruby-operator">:</span><span class="ruby-value">0</span><span class="ruby-operator">&gt;</span> <span class="ruby-identifier">team</span>.<span class="ruby-identifier">destroy</span>
</pre>

<p>Use the <code>attributes</code> method to get a list of all available
attributes that each object has.</p>

<pre class="ruby"><span class="ruby-identifier">espsdk</span>:<span class="ruby-value">003</span><span class="ruby-operator">:</span><span class="ruby-value">0</span><span class="ruby-operator">&gt;</span> <span class="ruby-identifier">team</span> = <span class="ruby-constant">ESP</span><span class="ruby-operator">::</span><span class="ruby-constant">Team</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">1</span>)
<span class="ruby-identifier">espsdk</span>:<span class="ruby-value">004</span><span class="ruby-operator">:</span><span class="ruby-value">0</span><span class="ruby-operator">&gt;</span> <span class="ruby-identifier">team</span>.<span class="ruby-identifier">attributes</span>
<span class="ruby-comment"># =&gt; {</span>
<span class="ruby-comment"># =&gt;                       &quot;id&quot; =&gt; &quot;1&quot;,</span>
<span class="ruby-comment"># =&gt;                     &quot;type&quot; =&gt; &quot;teams&quot;,</span>
<span class="ruby-comment"># =&gt;            &quot;relationships&quot; =&gt; #&lt;ESP::Team::Relationships:0x007fdf1b451710 @attributes={&quot;sub_organization&quot;=&gt;#&lt;ESP::SubOrganization:0x007fdf1b450d60 @attributes={&quot;data&quot;=&gt;#&lt;ESP::SubOrganization::Data:0x007fdf1b450978 @attributes={&quot;id&quot;=&gt;&quot;1&quot;, &quot;type&quot;=&gt;&quot;sub_organizations&quot;}, @prefix_options={}, @persisted=true&gt;, &quot;links&quot;=&gt;#&lt;ESP::SubOrganization::Links:0x007fdf1b4503b0 @attributes={&quot;related&quot;=&gt;&quot;http://localhost:3000/api/v2/sub_organizations/1.json&quot;}, @prefix_options={}, @persisted=true&gt;}, @prefix_options={}, @persisted=true&gt;, &quot;organization&quot;=&gt;#&lt;ESP::Organization:0x007fdf1b45bbc0 @attributes={&quot;data&quot;=&gt;#&lt;ESP::Organization::Data:0x007fdf1b45b7d8 @attributes={&quot;id&quot;=&gt;&quot;1&quot;, &quot;type&quot;=&gt;&quot;organizations&quot;}, @prefix_options={}, @persisted=true&gt;, &quot;links&quot;=&gt;#&lt;ESP::Organization::Links:0x007fdf1b45b210 @attributes={&quot;related&quot;=&gt;&quot;http://localhost:3000/api/v2/organizations/1.json&quot;}, @prefix_options={}, @persisted=true&gt;}, @prefix_options={}, @persisted=true&gt;, &quot;external_accounts&quot;=&gt;#&lt;ESP::Team::Relationships::ExternalAccounts:0x007fdf1b45a040 @attributes={&quot;data&quot;=&gt;[#&lt;ESP::Team::Relationships::ExternalAccounts::Datum:0x007fdf1b458830 @attributes={&quot;id&quot;=&gt;&quot;1&quot;, &quot;type&quot;=&gt;&quot;external_accounts&quot;}, @prefix_options={}, @persisted=true&gt;], &quot;links&quot;=&gt;#&lt;ESP::Team::Links:0x007fdf1b463e38 @attributes={&quot;related&quot;=&gt;&quot;http://localhost:3000/api/v2/external_accounts.json&quot;}, @prefix_options={}, @persisted=true&gt;}, @prefix_options={}, @persisted=true&gt;}, @prefix_options={}, @persisted=true&gt;,</span>
<span class="ruby-comment"># =&gt;                     &quot;name&quot; =&gt; &quot;Default Team&quot;,</span>
<span class="ruby-comment"># =&gt;               &quot;created_at&quot; =&gt; &quot;2015-09-23T14:37:48.000Z&quot;,</span>
<span class="ruby-comment"># =&gt;               &quot;updated_at&quot; =&gt; &quot;2015-09-23T14:37:48.000Z&quot;,</span>
<span class="ruby-comment"># =&gt;      &quot;sub_organization_id&quot; =&gt; &quot;1&quot;,</span>
<span class="ruby-comment"># =&gt;          &quot;organization_id&quot; =&gt; &quot;1&quot;,</span>
<span class="ruby-comment"># =&gt;     &quot;external_account_ids&quot; =&gt; [</span>
<span class="ruby-comment"># =&gt;         [0] &quot;1&quot;</span>
<span class="ruby-comment"># =&gt;     ]</span>
<span class="ruby-comment"># =&gt; }</span>
</pre>

<h2 id="label-Errors">Errors<span><a href="#label-Errors">&para;</a> <a href="#documentation">&uarr;</a></span></h2>

<p>Active Resource objects have an errors collection, just like Active Record
objects. If the API call returns a non fatal response, like
validation
issues, you can check the errors object to see what went wrong.</p>

<pre class="ruby"><span class="ruby-identifier">espsdk</span>:<span class="ruby-value">003</span><span class="ruby-operator">:</span><span class="ruby-value">0</span><span class="ruby-operator">&gt;</span> <span class="ruby-identifier">t</span> = <span class="ruby-constant">ESP</span><span class="ruby-operator">::</span><span class="ruby-constant">Team</span>.<span class="ruby-identifier">create</span>(<span class="ruby-identifier">name</span><span class="ruby-operator">:</span> <span class="ruby-string">&#39;&#39;</span>)
<span class="ruby-identifier">espsdk</span>:<span class="ruby-value">003</span><span class="ruby-operator">:</span><span class="ruby-value">0</span><span class="ruby-operator">&gt;</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">errors</span>
<span class="ruby-comment"># =&gt; {</span>
<span class="ruby-comment"># =&gt;     :base =&gt; [</span>
<span class="ruby-comment"># =&gt;         [0] &quot;Organization can&#39;t be blank&quot;,</span>
<span class="ruby-comment"># =&gt;         [1] &quot;Sub organization can&#39;t be blank&quot;</span>
<span class="ruby-comment"># =&gt;     ],</span>
<span class="ruby-comment"># =&gt;     :name =&gt; [</span>
<span class="ruby-comment"># =&gt;         [0] &quot;can&#39;t be blank&quot;</span>
<span class="ruby-comment"># =&gt;     ]</span>
<span class="ruby-comment"># =&gt; }</span>
</pre>

<p>The errors will be in the :base key rather than the corresponding attribute
key, since we have not defined a schema for the objects
in order to stay
more loosely coupled to the API.</p>

<pre class="ruby"><span class="ruby-identifier">espsdk</span>:<span class="ruby-value">003</span><span class="ruby-operator">:</span><span class="ruby-value">0</span><span class="ruby-operator">&gt;</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">errors</span>.<span class="ruby-identifier">full_messages</span>
<span class="ruby-comment"># =&gt; [</span>
<span class="ruby-comment"># =&gt;     [0] &quot;Organization can&#39;t be blank&quot;,</span>
<span class="ruby-comment"># =&gt;     [1] &quot;Sub organization can&#39;t be blank&quot;,</span>
<span class="ruby-comment"># =&gt;     [2] &quot;Name can&#39;t be blank&quot;</span>
<span class="ruby-comment"># =&gt; ]</span>
</pre>

<p>When an error is thrown, you can rescue the error and check the error
message:</p>

<pre class="ruby"><span class="ruby-identifier">espsdk</span>:<span class="ruby-value">003</span><span class="ruby-operator">:</span><span class="ruby-value">0</span><span class="ruby-operator">&gt;</span> <span class="ruby-identifier">c</span> = <span class="ruby-constant">ESP</span><span class="ruby-operator">::</span><span class="ruby-constant">CustomSignature</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">435</span>)
<span class="ruby-identifier">espsdk</span>:<span class="ruby-value">003</span><span class="ruby-operator">:</span><span class="ruby-value">0</span><span class="ruby-operator">&gt;</span> <span class="ruby-identifier">c</span>.<span class="ruby-identifier">run!</span>(<span class="ruby-identifier">external_account_id</span><span class="ruby-operator">:</span> <span class="ruby-value">999</span>)
<span class="ruby-comment"># =&gt;  ActiveResource::ResourceInvalid: Failed.  Response code = 422.  Response message = Couldn&#39;t find ExternalAccount. </span>
<span class="ruby-comment"># =&gt;    from /Users/kevintyll/evident/esp_sdk/lib/esp/resources/custom_signature.rb:23:in `run!&#39;</span>

<span class="ruby-keyword">begin</span>
  <span class="ruby-identifier">c</span>.<span class="ruby-identifier">run!</span>(<span class="ruby-identifier">external_account_id</span><span class="ruby-operator">:</span> <span class="ruby-value">999</span>)
<span class="ruby-keyword">rescue</span> <span class="ruby-constant">ActiveResource</span><span class="ruby-operator">::</span><span class="ruby-constant">ResourceInvalid</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">e</span>
  <span class="ruby-identifier">puts</span> <span class="ruby-identifier">e</span>.<span class="ruby-identifier">message</span>
<span class="ruby-keyword">end</span>
<span class="ruby-comment"># =&gt; Failed.  Response code = 422.  Response message = Couldn&#39;t find ExternalAccount.</span>
</pre>

<p>All non get requests have a corresponding <code>!</code> version of the
method. These methods will throw an error rather than swallow
the error and
return an object with the errors object populated. For example, the
<code>run</code> and <code>run!</code> methods on CustomSignature.</p>

<h2 id="label-Pagination">Pagination<span><a href="#label-Pagination">&para;</a> <a href="#documentation">&uarr;</a></span></h2>

<p>Evident.io API endpoints that return a collection of objects allows for
paging and only returns a limited number of items at a time.
The Evident.io
SDK returns an ESP::PaginatedCollection object that provides methods for
paginating through the collection.
The methods with a <code>!</code> suffix
update the object, methods without the <code>!</code> suffix return a new
page object preserving the
original object.</p>

<pre class="ruby"><span class="ruby-identifier">espsdk</span>:<span class="ruby-value">004</span><span class="ruby-operator">:</span><span class="ruby-value">0</span><span class="ruby-operator">&gt;</span> <span class="ruby-identifier">alerts</span> = <span class="ruby-constant">ESP</span><span class="ruby-operator">::</span><span class="ruby-constant">Alert</span>.<span class="ruby-identifier">for_report</span>(<span class="ruby-value">345</span>)
<span class="ruby-identifier">espsdk</span>:<span class="ruby-value">004</span><span class="ruby-operator">:</span><span class="ruby-value">0</span><span class="ruby-operator">&gt;</span> <span class="ruby-identifier">alerts</span>.<span class="ruby-identifier">current_page_number</span> <span class="ruby-comment"># =&gt; &quot;1&quot;</span>
<span class="ruby-identifier">espsdk</span>:<span class="ruby-value">004</span><span class="ruby-operator">:</span><span class="ruby-value">0</span><span class="ruby-operator">&gt;</span> <span class="ruby-identifier">page2</span> = <span class="ruby-identifier">alerts</span>.<span class="ruby-identifier">next_page</span>
<span class="ruby-identifier">espsdk</span>:<span class="ruby-value">004</span><span class="ruby-operator">:</span><span class="ruby-value">0</span><span class="ruby-operator">&gt;</span> <span class="ruby-identifier">alerts</span>.<span class="ruby-identifier">current_page_number</span> <span class="ruby-comment"># =&gt; &quot;1&quot;</span>
<span class="ruby-identifier">espsdk</span>:<span class="ruby-value">004</span><span class="ruby-operator">:</span><span class="ruby-value">0</span><span class="ruby-operator">&gt;</span> <span class="ruby-identifier">page2</span>.<span class="ruby-identifier">current_page_number</span> <span class="ruby-comment"># =&gt; &quot;2&quot;</span>
<span class="ruby-identifier">espsdk</span>:<span class="ruby-value">004</span><span class="ruby-operator">:</span><span class="ruby-value">0</span><span class="ruby-operator">&gt;</span> <span class="ruby-identifier">page2</span>.<span class="ruby-identifier">previous_page!</span>
<span class="ruby-identifier">espsdk</span>:<span class="ruby-value">004</span><span class="ruby-operator">:</span><span class="ruby-value">0</span><span class="ruby-operator">&gt;</span> <span class="ruby-identifier">page2</span>.<span class="ruby-identifier">current_page_number</span> <span class="ruby-comment"># =&gt; &quot;1&quot;</span>
<span class="ruby-identifier">espsdk</span>:<span class="ruby-value">004</span><span class="ruby-operator">:</span><span class="ruby-value">0</span><span class="ruby-operator">&gt;</span> <span class="ruby-identifier">alerts</span>.<span class="ruby-identifier">last_page!</span>
<span class="ruby-identifier">espsdk</span>:<span class="ruby-value">004</span><span class="ruby-operator">:</span><span class="ruby-value">0</span><span class="ruby-operator">&gt;</span> <span class="ruby-identifier">alerts</span>.<span class="ruby-identifier">current_page_number</span> <span class="ruby-comment"># =&gt; &quot;25&quot;</span>
<span class="ruby-identifier">espsdk</span>:<span class="ruby-value">004</span><span class="ruby-operator">:</span><span class="ruby-value">0</span><span class="ruby-operator">&gt;</span> <span class="ruby-identifier">page4</span> = <span class="ruby-identifier">alerts</span>.<span class="ruby-identifier">page</span>(<span class="ruby-value">4</span>)
<span class="ruby-identifier">espsdk</span>:<span class="ruby-value">004</span><span class="ruby-operator">:</span><span class="ruby-value">0</span><span class="ruby-operator">&gt;</span> <span class="ruby-identifier">alerts</span>.<span class="ruby-identifier">current_page_number</span> <span class="ruby-comment"># =&gt; &quot;25&quot;</span>
<span class="ruby-identifier">espsdk</span>:<span class="ruby-value">004</span><span class="ruby-operator">:</span><span class="ruby-value">0</span><span class="ruby-operator">&gt;</span> <span class="ruby-identifier">page4</span>.<span class="ruby-identifier">current_page_number</span> <span class="ruby-comment"># =&gt; &quot;4&quot;</span>
</pre>

<p>See <a
href="ActiveResource/PaginatedCollection.html">ActiveResource::PaginatedCollection</a>
for all the pagination methods available.</p>

<h2 id="label-Associated+Objects">Associated Objects<span><a href="#label-Associated+Objects">&para;</a> <a href="#documentation">&uarr;</a></span></h2>

<p>Most of the objects in the Evident.io SDK have a corresponding API call
associated with it. That means if you call an object&#39;s
association,
then that will make another API call. For example:</p>

<pre class="ruby"><span class="ruby-identifier">espsdk</span>:<span class="ruby-value">004</span><span class="ruby-operator">:</span><span class="ruby-value">0</span><span class="ruby-operator">&gt;</span> <span class="ruby-identifier">external_account</span> = <span class="ruby-constant">ESP</span><span class="ruby-operator">::</span><span class="ruby-constant">ExternalAccount</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">3</span>)
<span class="ruby-identifier">espsdk</span>:<span class="ruby-value">004</span><span class="ruby-operator">:</span><span class="ruby-value">0</span><span class="ruby-operator">&gt;</span> <span class="ruby-identifier">organization</span> = <span class="ruby-identifier">external_account</span>.<span class="ruby-identifier">organization</span>
<span class="ruby-identifier">espsdk</span>:<span class="ruby-value">004</span><span class="ruby-operator">:</span><span class="ruby-value">0</span><span class="ruby-operator">&gt;</span> <span class="ruby-identifier">sub_organization</span> = <span class="ruby-identifier">external_account</span>.<span class="ruby-identifier">sub_organization</span>
<span class="ruby-identifier">espsdk</span>:<span class="ruby-value">004</span><span class="ruby-operator">:</span><span class="ruby-value">0</span><span class="ruby-operator">&gt;</span> <span class="ruby-identifier">team</span> = <span class="ruby-identifier">external_account</span>.<span class="ruby-identifier">team</span>
</pre>

<p>The above code will make 4 calls to the Evident.io API. 1 each for the
external account, organization, sub_organization and team.
The <a
href="http://jsonapi.org/format/#fetching-includes">JSON API
Specification</a>, which the Evident.io API tries to follow, provides
a
means for returning nested objects in a single call. With the SDK, that can
be done by providing a comma separated string
of the relations wanted in an
<code>include</code> option.</p>

<pre class="ruby"><span class="ruby-identifier">espsdk</span>:<span class="ruby-value">004</span><span class="ruby-operator">:</span><span class="ruby-value">0</span><span class="ruby-operator">&gt;</span> <span class="ruby-identifier">external_account</span> = <span class="ruby-constant">ESP</span><span class="ruby-operator">::</span><span class="ruby-constant">ExternalAccount</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">3</span>, <span class="ruby-identifier">include</span><span class="ruby-operator">:</span> <span class="ruby-string">&#39;organization,sub_orgnanization,team&#39;</span>)
</pre>

<pre class="ruby"><span class="ruby-identifier">espsdk</span>:<span class="ruby-value">004</span><span class="ruby-operator">:</span><span class="ruby-value">0</span><span class="ruby-operator">&gt;</span> <span class="ruby-identifier">external_account</span> = <span class="ruby-constant">ESP</span><span class="ruby-operator">::</span><span class="ruby-constant">ExternalAccount</span>.<span class="ruby-identifier">where</span>(<span class="ruby-identifier">id_eq</span><span class="ruby-operator">:</span> <span class="ruby-value">3</span>, <span class="ruby-identifier">include</span><span class="ruby-operator">:</span> <span class="ruby-string">&#39;organization,sub_organization,team&#39;</span>)
</pre>

<p>With that call, organization, sub_organization and team will all come back
in the response, and calling,
<code>external_account.organization</code>,
<code>external_account.sub_organization</code>
and <code>external_account.team</code>, will not make another API call.</p>

<p>You can nest include requests with the dot property. For example,
requesting <code>external_account.team</code> on an alert will expand the
<code>external_account</code> property into a full <code>External
Account</code> object, and will then expand the <code>team</code> property
on that external account into a full <code>Team</code> object.
Deep nesting
is available as well. <code>external_account.team.organization</code></p>

<pre class="ruby"><span class="ruby-identifier">alert</span> = <span class="ruby-constant">ESP</span><span class="ruby-operator">::</span><span class="ruby-constant">Alert</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">1</span>, <span class="ruby-identifier">include</span><span class="ruby-operator">:</span> <span class="ruby-string">&#39;tags,external_account.team&#39;</span>)
<span class="ruby-comment">#=&gt; &lt;ESP::Alert:0x007fb82acd3298 @attributes={&quot;id&quot;=&gt;&quot;1&quot;, &quot;type&quot;=&gt;&quot;alerts&quot;...}&gt;</span>

<span class="ruby-identifier">alerts</span> = <span class="ruby-constant">ESP</span><span class="ruby-operator">::</span><span class="ruby-constant">Alert</span>.<span class="ruby-identifier">where</span>(<span class="ruby-identifier">report_id</span><span class="ruby-operator">:</span> <span class="ruby-value">4</span>, <span class="ruby-identifier">include</span><span class="ruby-operator">:</span> <span class="ruby-string">&#39;tags,external_account.team&#39;</span>)
<span class="ruby-comment">#=&gt; #&lt;ActiveResource::PaginatedCollection:0x007fb82b0b54b0 @elements=[#&lt;ESP::Alert:0x007fb82b0b1fb8 @attributes={&quot;id&quot;=&gt;&quot;1&quot;, &quot;type&quot;=&gt;&quot;alerts&quot;...&gt;</span>
</pre>

<p>Most objects&#39; find and where methods accept the <code>include</code>
option. Those methods that accept the <code>include</code> option are
documented with the available associations that are includable.</p>

<h2 id="label-Filtering%2FSearching">Filtering/Searching<span><a href="#label-Filtering%2FSearching">&para;</a> <a href="#documentation">&uarr;</a></span></h2>

<p>For objects that implement <code>where</code>, parameters can be passed
that will filter the results based on the search criteria specified.
The
criteria that can be specified depends on the object. Each object is
documented whether it implements <code>where</code> or not,
and if so,
which attributes can be included in the search criteria.</p>

<h3 id="label-Searching">Searching<span><a href="#label-Searching">&para;</a> <a href="#documentation">&uarr;</a></span></h3>

<p>The primary method of searching is by using what is known as
<em>predicates</em>.</p>

<p>Predicates are used within Evident.io API search queries to determine what
information to
match. For instance, the <code>cont</code> predicate, when
added to the <code>name</code> attribute, will check to see if `name``
contains a value using a wildcard query.</p>

<pre class="ruby"><span class="ruby-constant">ESP</span><span class="ruby-operator">::</span><span class="ruby-constant">Signature</span>.<span class="ruby-identifier">where</span>(<span class="ruby-identifier">name_cont</span><span class="ruby-operator">:</span> <span class="ruby-string">&#39;dns&#39;</span>)
<span class="ruby-comment">#=&gt; will return signatures `where name LIKE &#39;%dns%&#39;`</span>
</pre>

<h3 id="label-OR+Conditions">OR Conditions<span><a href="#label-OR+Conditions">&para;</a> <a href="#documentation">&uarr;</a></span></h3>

<p>You can also combine predicates for OR queries:</p>

<pre class="ruby"><span class="ruby-constant">ESP</span><span class="ruby-operator">::</span><span class="ruby-constant">Signature</span>.<span class="ruby-identifier">where</span>(<span class="ruby-identifier">name_or_description_cont</span><span class="ruby-operator">:</span> <span class="ruby-string">&#39;dns&#39;</span>)
<span class="ruby-comment">#=&gt; will return signatures `where name LIKE &#39;%dns%&#39; or description LIKE &#39;%dns%&#39;`</span>
</pre>

<h3 id="label-Conditions+on+Relationships">Conditions on Relationships<span><a href="#label-Conditions+on+Relationships">&para;</a> <a href="#documentation">&uarr;</a></span></h3>

<p>The syntax for queries on an associated relationship is to just append the
association name to the attribute:</p>

<pre class="ruby"><span class="ruby-constant">ESP</span><span class="ruby-operator">::</span><span class="ruby-constant">Suppression</span>.<span class="ruby-identifier">where</span>(<span class="ruby-identifier">regions_code_eq</span><span class="ruby-operator">:</span> <span class="ruby-string">&#39;us_east_1&#39;</span>)
<span class="ruby-comment">#=&gt; will return suppressions that have a region relationship `where code = &#39;us_east_1&#39;`</span>
</pre>

<h3 id="label-Complex+Filtering">Complex Filtering<span><a href="#label-Complex+Filtering">&para;</a> <a href="#documentation">&uarr;</a></span></h3>

<p>Add multiple attributes and predicates to form complex queries:</p>

<pre class="ruby"><span class="ruby-constant">ESP</span><span class="ruby-operator">::</span><span class="ruby-constant">Suppression</span>.<span class="ruby-identifier">where</span>(<span class="ruby-identifier">regions_code_start</span><span class="ruby-operator">:</span> <span class="ruby-string">&#39;us&#39;</span>, <span class="ruby-identifier">created_by_email_eq</span><span class="ruby-operator">:</span> <span class="ruby-string">&#39;bob@mycompany.com&#39;</span>, <span class="ruby-identifier">resource_not_null</span><span class="ruby-operator">:</span> <span class="ruby-string">&#39;1&#39;</span>)
<span class="ruby-comment">#=&gt; will return suppressions that have a region relationship `where code LIKE &#39;us%&#39;` and created_by relationship `where email = &#39;bob@mycompany.com&#39;` and `resource IS NOT NULL`</span>
</pre>

<p>You can also change the <code>combinator</code> for complex queries from
the default <code>AND</code> to <code>OR</code> by adding the <code>m:
&#39;or&#39;</code> parameter</p>

<pre class="ruby"><span class="ruby-constant">ESP</span><span class="ruby-operator">::</span><span class="ruby-constant">Suppression</span>.<span class="ruby-identifier">where</span>(<span class="ruby-identifier">regions_code_start</span><span class="ruby-operator">:</span> <span class="ruby-string">&#39;us&#39;</span>, <span class="ruby-identifier">created_by_email_eq</span><span class="ruby-operator">:</span> <span class="ruby-string">&#39;bob@mycompany.com&#39;</span>, <span class="ruby-identifier">resource_not_null</span><span class="ruby-operator">:</span> <span class="ruby-string">&#39;1&#39;</span>, <span class="ruby-identifier">m</span><span class="ruby-operator">:</span> <span class="ruby-string">&#39;or&#39;</span>)
<span class="ruby-comment">#=&gt; will return suppressions that have a region relationship `where code LIKE &#39;us%&#39;` **OR** created_by relationship `where email = &#39;bob@mycompany.com&#39;` **OR** `resource IS NOT NULL`</span>
</pre>

<h3 id="label-Bad+Attributes">Bad Attributes<span><a href="#label-Bad+Attributes">&para;</a> <a href="#documentation">&uarr;</a></span></h3>

<p><strong>Please note:</strong> any attempt to use a predicate for an
attribute that does not exist will return a
<em>422 (Unprocessable
Entity)</em> response. For instance, this will not work:</p>

<pre class="ruby"><span class="ruby-constant">ESP</span><span class="ruby-operator">::</span><span class="ruby-constant">Suppression</span>.<span class="ruby-identifier">where</span>(<span class="ruby-identifier">bad_attribute_eq</span><span class="ruby-operator">:</span> <span class="ruby-string">&#39;something&#39;</span>)
<span class="ruby-comment">#=&gt; ActiveResource::ResourceInvalid: Failed.  Response code = 422.  Response message = Invalid search term bad_attribute_eq.</span>
</pre>

<p><strong>Also note:</strong> any attempt to use a predicate for an attribute
that exists on the object, but is not a documented searchable attribute
will <em>silently fail</em>
and will be excluded from the search criteria.</p>

<h2 id="label-Available+Predicates">Available Predicates<span><a href="#label-Available+Predicates">&para;</a> <a href="#documentation">&uarr;</a></span></h2>

<p>Below is a list of the available predicates and their opposites.</p>

<h3 id="label-eq+%28equals%29">eq (equals)<span><a href="#label-eq+%28equals%29">&para;</a> <a href="#documentation">&uarr;</a></span></h3>

<p>The <code>eq</code> predicate returns all records where a field is
<em>exactly</em> equal to a given value:</p>

<pre class="ruby"><span class="ruby-constant">ESP</span><span class="ruby-operator">::</span><span class="ruby-constant">Suppression</span>.<span class="ruby-identifier">where</span>(<span class="ruby-identifier">regions_code_eq</span><span class="ruby-operator">:</span> <span class="ruby-string">&#39;us_east_1&#39;</span>)
<span class="ruby-comment">#=&gt; will return suppressions that have a region relationship `where code = &#39;us_east_1&#39;`</span>
</pre>

<p><strong>Opposite: <code>not_eq</code></strong></p>

<h3 id="label-lt+%28less+than%29">lt (less than)<span><a href="#label-lt+%28less+than%29">&para;</a> <a href="#documentation">&uarr;</a></span></h3>

<p>The <code>lt</code> predicate returns all records where a field is less
than a given value:</p>

<pre class="ruby"><span class="ruby-constant">ESP</span><span class="ruby-operator">::</span><span class="ruby-constant">Report</span>.<span class="ruby-identifier">where</span>(<span class="ruby-identifier">created_at_lt</span><span class="ruby-operator">:</span> <span class="ruby-value">1</span>.<span class="ruby-identifier">hour</span>.<span class="ruby-identifier">ago</span>)
<span class="ruby-comment">#=&gt; will return reports `where created_at &lt; &#39;2015-11-11 16:25:30&#39;`</span>
</pre>

<p><strong>Opposite: <code>gt</code> (greater than)</strong></p>

<h3 id="label-lteq+%28less+than+or+equal+to%29">lteq (less than or equal to)<span><a href="#label-lteq+%28less+than+or+equal+to%29">&para;</a> <a href="#documentation">&uarr;</a></span></h3>

<p>The <code>lteq</code> predicate returns all records where a field is less
than <em>or equal to</em> a given value:</p>

<pre class="ruby"><span class="ruby-constant">ESP</span><span class="ruby-operator">::</span><span class="ruby-constant">Report</span>.<span class="ruby-identifier">where</span>(<span class="ruby-identifier">created_at_lteq</span><span class="ruby-operator">:</span> <span class="ruby-value">1</span>.<span class="ruby-identifier">hour</span>.<span class="ruby-identifier">ago</span>)
<span class="ruby-comment">#=&gt; will return reports `where created_at &lt;= &#39;2015-11-11 16:25:30&#39;`</span>
</pre>

<p><strong>Opposite: <code>gteq</code> (greater than or equal to)</strong></p>

<h3 id="label-in">in<span><a href="#label-in">&para;</a> <a href="#documentation">&uarr;</a></span></h3>

<p>The <code>in</code> predicate returns all records where a field is within a
specified list:</p>

<pre class="ruby"><span class="ruby-constant">ESP</span><span class="ruby-operator">::</span><span class="ruby-constant">Signature</span>.<span class="ruby-identifier">where</span>(<span class="ruby-identifier">risk_level_in</span><span class="ruby-operator">:</span> [<span class="ruby-string">&#39;Low&#39;</span>, <span class="ruby-string">&#39;Medium&#39;</span>])
<span class="ruby-comment">#=&gt; will return signatures `where risk_level IN (&#39;Low&#39;, &#39;Medium&#39;)`</span>
</pre>

<p><strong>Opposite: <code>not_in</code></strong></p>

<h3 id="label-cont+%28contains%29">cont (contains)<span><a href="#label-cont+%28contains%29">&para;</a> <a href="#documentation">&uarr;</a></span></h3>

<p>The <code>cont</code> predicate returns all records where a field contains
a given value:</p>

<pre class="ruby"><span class="ruby-constant">ESP</span><span class="ruby-operator">::</span><span class="ruby-constant">Signature</span>.<span class="ruby-identifier">where</span>(<span class="ruby-identifier">name_cont</span><span class="ruby-operator">:</span> <span class="ruby-string">&#39;dns&#39;</span>)
<span class="ruby-comment">#=&gt; will return signatures `where name LIKE &#39;%dns%&#39;`</span>
</pre>

<p><strong>Opposite: <code>not_cont</code></strong></p>

<p><strong>Please note:</strong> This predicate is only available on
attributes listed in the “Valid Matching Searchable Attributes”“
section
for each implemented <code>where</code> method.</p>

<h3 id="label-cont_any+%28contains+any%29">cont_any (contains any)<span><a href="#label-cont_any+%28contains+any%29">&para;</a> <a href="#documentation">&uarr;</a></span></h3>

<p>The <code>cont_any</code> predicate returns all records where a field
contains any of given values:</p>

<pre class="ruby"><span class="ruby-constant">ESP</span><span class="ruby-operator">::</span><span class="ruby-constant">Signature</span>.<span class="ruby-identifier">where</span>(<span class="ruby-identifier">name_cont_any</span><span class="ruby-operator">:</span> [<span class="ruby-string">&#39;dns&#39;</span>, <span class="ruby-string">&#39;EC2&#39;</span>])
<span class="ruby-comment">#=&gt; will return signatures `where name LIKE &#39;%dns%&#39; or name LIKE &#39;%EC2%&#39;`</span>
</pre>

<p><strong>Opposite: <code>not_cont_any</code></strong></p>

<p><strong>Please note:</strong> This predicate is only available on
attributes listed in the “Valid Matching Searchable Attributes”“
section
for each implemented <code>where</code> method.</p>

<h3 id="label-start+%28starts+with%29">start (starts with)<span><a href="#label-start+%28starts+with%29">&para;</a> <a href="#documentation">&uarr;</a></span></h3>

<p>The <code>start</code> predicate returns all records where a field begins
with a given value:</p>

<pre class="ruby"><span class="ruby-constant">ESP</span><span class="ruby-operator">::</span><span class="ruby-constant">Signature</span>.<span class="ruby-identifier">where</span>(<span class="ruby-identifier">name_start</span><span class="ruby-operator">:</span> <span class="ruby-string">&#39;dns&#39;</span>)
<span class="ruby-comment">#=&gt; will return signatures `where name LIKE &#39;dns%&#39;`</span>
</pre>

<p><strong>Opposite: <code>not_start</code></strong></p>

<p><strong>Please note:</strong> This predicate is only available on
attributes listed in the “Valid Matching Searchable Attributes”“
section
for each implemented <code>where</code> method.</p>

<h3 id="label-end+%28ends+with%29">end (ends with)<span><a href="#label-end+%28ends+with%29">&para;</a> <a href="#documentation">&uarr;</a></span></h3>

<p>The <code>end</code> predicate returns all records where a field ends with
a given value:</p>

<pre class="ruby"><span class="ruby-constant">ESP</span><span class="ruby-operator">::</span><span class="ruby-constant">Signature</span>.<span class="ruby-identifier">where</span>(<span class="ruby-identifier">name_end</span><span class="ruby-operator">:</span> <span class="ruby-string">&#39;dns&#39;</span>)
<span class="ruby-comment">#=&gt; will return signatures `where name LIKE &#39;%dns&#39;`</span>
</pre>

<p><strong>Opposite: <code>not_end</code></strong></p>

<p><strong>Please note:</strong> This predicate is only available on
attributes listed in the “Valid Matching Searchable Attributes”“
section
for each implemented <code>where</code> method.</p>

<h3 id="label-present">present<span><a href="#label-present">&para;</a> <a href="#documentation">&uarr;</a></span></h3>

<p>The <code>present</code> predicate returns all records where a field is
present (not null and not a
blank string).</p>

<pre class="ruby"><span class="ruby-constant">ESP</span><span class="ruby-operator">::</span><span class="ruby-constant">Signature</span>.<span class="ruby-identifier">where</span>(<span class="ruby-identifier">identifier_present</span><span class="ruby-operator">:</span> <span class="ruby-string">&#39;1&#39;</span>)
<span class="ruby-comment">#=&gt; will return signatures `where identifier IS NOT NULL AND identifier != &#39;&#39;`</span>
</pre>

<p><strong>Opposite: <code>blank</code></strong></p>

<h3 id="label-null">null<span><a href="#label-null">&para;</a> <a href="#documentation">&uarr;</a></span></h3>

<p>The <code>null</code> predicate returns all records where a field is null:</p>

<pre class="ruby"><span class="ruby-constant">ESP</span><span class="ruby-operator">::</span><span class="ruby-constant">Signature</span>.<span class="ruby-identifier">where</span>(<span class="ruby-identifier">identifier_null</span><span class="ruby-operator">:</span> <span class="ruby-value">1</span>)
<span class="ruby-comment">#=&gt; will return signatures `where identifier IS NULL`</span>
</pre>

<p><strong>Opposite: <code>not_null</code></strong></p>

<h2 id="label-Sorting">Sorting<span><a href="#label-Sorting">&para;</a> <a href="#documentation">&uarr;</a></span></h2>

<p>Lists can also be sorted by adding the <code>sorts</code> parameter with
the field to sort by to the <code>filter</code> parameter.</p>

<pre class="ruby"><span class="ruby-constant">ESP</span><span class="ruby-operator">::</span><span class="ruby-constant">Signature</span>.<span class="ruby-identifier">where</span>(<span class="ruby-identifier">name_cont</span><span class="ruby-operator">:</span> <span class="ruby-string">&#39;dns&#39;</span>, <span class="ruby-identifier">sort</span><span class="ruby-operator">:</span> <span class="ruby-string">&#39;risk_level desc&#39;</span>)
<span class="ruby-comment">#=&gt; will return signatures `where name LIKE &#39;%dns%&#39;` sorted by `risk_level` in descending order.</span>
</pre>

<p>Lists can be sorted by multiple fields by specifying an ordered array.</p>

<pre class="ruby"><span class="ruby-constant">ESP</span><span class="ruby-operator">::</span><span class="ruby-constant">Signature</span>.<span class="ruby-identifier">where</span>(<span class="ruby-identifier">name_cont</span><span class="ruby-operator">:</span> <span class="ruby-string">&#39;dns&#39;</span>, <span class="ruby-identifier">sorts</span><span class="ruby-operator">:</span> [<span class="ruby-string">&#39;risk_level desc&#39;</span>, <span class="ruby-string">&#39;created_at&#39;</span>])
<span class="ruby-comment">#=&gt; will return signatures `where name LIKE &#39;%dns%&#39;` sorted by `risk_level` in descending order and then by `created_at` in ascending order.</span>
</pre>

<h2 id="label-Available+Objects">Available Objects<span><a href="#label-Available+Objects">&para;</a> <a href="#documentation">&uarr;</a></span></h2>
<ul><li>
<p><a href="ESP/Alert.html">ESP::Alert</a></p>
</li><li>
<p><a href="ESP/CloudTrailEvent.html">ESP::CloudTrailEvent</a></p>
</li><li>
<p><a href="ESP/ContactRequest.html">ESP::ContactRequest</a></p>
</li><li>
<p><a href="ESP/CustomSignature.html">ESP::CustomSignature</a></p>
</li><li>
<p><a href="ESP/Dashboard.html">ESP::Dashboard</a></p>
</li><li>
<p><a href="ESP/ExternalAccount.html">ESP::ExternalAccount</a></p>
</li><li>
<p><a href="ESP/Organization.html">ESP::Organization</a></p>
</li><li>
<p><a href="ESP/Region.html">ESP::Region</a></p>
</li><li>
<p><a href="ESP/Report.html">ESP::Report</a></p>
</li><li>
<p><a href="ESP/Service.html">ESP::Service</a></p>
</li><li>
<p><a href="ESP/Signature.html">ESP::Signature</a></p>
</li><li>
<p><a href="ESP/Stat.html">ESP::Stat</a></p>
</li><li>
<p><a href="ESP/Stat.html">ESP::Stat</a></p>
</li><li>
<p><a href="ESP/Stat.html">ESP::Stat</a></p>
</li><li>
<p><a href="ESP/Stat.html">ESP::Stat</a></p>
</li><li>
<p><a href="ESP/Stat.html">ESP::Stat</a></p>
</li><li>
<p><a href="ESP/SubOrganization.html">ESP::SubOrganization</a></p>
</li><li>
<p><a href="ESP/Suppression.html">ESP::Suppression</a></p>
</li><li>
<p><a href="ESP/Suppression/Region.html">ESP::Suppression::Region</a></p>
</li><li>
<p><a href="ESP/Suppression/Signature.html">ESP::Suppression::Signature</a></p>
</li><li>
<p><a
href="ESP/Suppression/UniqueIdentifier.html">ESP::Suppression::UniqueIdentifier</a></p>
</li><li>
<p><a href="ESP/Tag.html">ESP::Tag</a></p>
</li><li>
<p><a href="ESP/Team.html">ESP::Team</a></p>
</li><li>
<p><a href="ESP/User.html">ESP::User</a></p>
</li></ul>

<h1 id="label-Console">Console<span><a href="#label-Console">&para;</a> <a href="#documentation">&uarr;</a></span></h1>

<p>The Evident.io SDK gem also provides an IRB console you can use if not
using it in a Rails app. Run it with <code>esp console</code></p>

<h2 id="label-Contributing">Contributing<span><a href="#label-Contributing">&para;</a> <a href="#documentation">&uarr;</a></span></h2>
<ol><li>
<p>Fork it ( <a
href="http://my-github-username">href=“https://github.com/[my-github-username]/esp_sdk/fork”>github.com/</a>
)</p>
</li><li>
<p>Create your feature branch (<code>git checkout -b my-new-feature</code>)</p>
</li><li>
<p>Commit your changes (<code>git commit -am &#39;Add some
feature&#39;</code>)</p>
</li><li>
<p>Push to the branch (<code>git push origin my-new-feature</code>)</p>
</li><li>
<p>Create a new Pull Request</p>
</li></ol>

</div>



<footer id="validator-badges">
  <p><a href="http://validator.w3.org/check/referer">[Validate]</a>
  <p>Generated by <a href="https://github.com/rdoc/rdoc">RDoc</a> 4.0.0.
  <p>Generated with the <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish Rdoc Generator</a> 3.
</footer>

